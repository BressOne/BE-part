<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"></html><![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"></html><![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"></html><![endif]-->
<!-- [if gt IE 8]><! -->
<html class="no-js">
  <!-- <![endif] -->
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title></title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="" />
  </head>
  <body>
    <script>
      function loginFetch() {
        let payload = {
          "login-username": document.getElementById("username").value,
          "login-password": document.getElementById("password").value
        };
        fetch("http://localhost:3000/", {
          method: "post",
          headers: {
            Accept: "application/json",
            "Content-Type": "application/json"
          },
          body: JSON.stringify(payload)
        })
          .then(function(response) {
            document.getElementById("responseRegister").innerText =
              response.message;
          })
          .catch(function(err) {
            document.getElementById("responseRegister").innerText = err.message;
          });
      }
      function registerFetch() {
        let payload = {
          email: document.getElementById("email").value,
          username: document.getElementById("username").value,
          password: document.getElementById("password").value,
          passwordConf: document.getElementById("passwordConf").value
        };
        console.log(payload);
        fetch("http://localhost:3000/register", {
          method: "post",
          headers: {
            Accept: "application/json",
            "Content-Type": "application/json"
          },
          body: JSON.stringify(payload)
        })
          .then(function(response) {
            document.getElementById("responseRegister").innerText =
              response.message;
          })
          .catch(function(err) {
            document.getElementById("responseRegister").innerText = err.message;
          });
      }
    </script>
    <div id="responseRegister"></div>
    <form onsubmit="registerFetch()">
      <fieldset>
        <legend>Create account</legend>
        <p>
          <label for="email">email <em>*</em> </label
          ><input type="email" id="email" name="email" />
        </p>
        <p>
          <label for="username">username <em>*</em> </label
          ><input type="text" id="username" name="username" />
        </p>
        <p>
          <label for="password">password <em>*</em> </label
          ><input type="text" id="password" name="password" />
        </p>
        <p>
          <label for="passwordConf">passwordConf <em>*</em> </label
          ><input type="text" id="passwordConf" name="passwordConf" />
        </p>
      </fieldset>
      <p><input type="submit" value="Register" /></p>
    </form>

    <form action="/login" onsubmit="loginFetch()">
      <fieldset>
        <legend>login</legend>
        <p>
          <label for="username">username</label
          ><input type="text" id="login-username" name="username" />
        </p>
        <p>
          <label for="password">password</label
          ><input type="text" id="login-password" name="password" />
        </p>
      </fieldset>
      <p><input type="submit" value="login" /></p>
    </form>
  </body>
</html>
